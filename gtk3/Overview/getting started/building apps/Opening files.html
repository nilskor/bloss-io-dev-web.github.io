<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>
        bloss
    </title>

    <!-- fixed-navbar -->
    <link rel="stylesheet" href="/foo/css/navbar-items.css">
    <!-- fixed-navbar -->
    <link rel="stylesheet" href="/foo/css/footer-items.css">
    <!-- alternate templates -->
    <link rel="stylesheet" href="/foo/css/templates.css">
    <!-- links/tables/code blocks -->
    <link rel="stylesheet" href="/foo/css/formatting.css">
    <!-- font-family: 'Noto Sans', sans-serif; -->
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans&display=swap" rel="stylesheet">
    <!-- secondary navbar special character -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <style>
    </style>
</head>

<body>
 <!-- navigation bar "navbar" -->
   <nav class="fixed-navbar">
        <div class="navbar-container">
            <div class="generic-box">
                <div class="logo">
                    <a href="https://www.bloss.io/"><img src="/foo/assets/bloss-leaf-color.svg" alt="" width="32px" height="32px"></img></a>
                </div>
            </div>
            <div class="generic-box">
                <a id="nbi-1" class="navbar-item" href="https://www.bloss.io/bloss_os"></a>
                <a id="nbi-2" class="navbar-item" href="https://www.bloss.io/documentation"></a>
                <a id="nbi-3" class="navbar-item" href="https://www.bloss.io/developer"></a>
                <a id="nbi-4" class="navbar-item" href="https://www.bloss.io/support"></a>
            </div>
            <div class="generic-box">
                <a href="">search</a>
            </div>
        </div>
    </nav>

 <!-- secondary navigation bar "secondary navbar" -->
   <nav class="secondary-navbar-container">
        <div class="generic-box">
            <a href="https://www.bloss.io/documentation/">index of manuals</a>
        </div>
       <div class="dropdown">
           <button class="dropbtn">
               A-G
               <i class="fa fa-caret-down"></i>
           </button>
           <div class="dropdown-content">
               <a href="https://www.bloss.io/documentation/ATK">ATK</a>
               <a href="https://www.bloss.io/documentation/GDK">GDK</a>
               <a href="https://www.bloss.io/documentation/GIO">GIO</a>
               <a href="https://www.bloss.io/documentation/GTK3">GTK+ 3</a>
               <a href="https://www.bloss.io/documentation/">TBD</a>
               <a href="https://www.bloss.io/documentation/">TBD</a>
           </div>
       </div>
       <div class="dropdown">
            <button class="dropbtn">
                H-M
                <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content">
                <a href="https://www.bloss.io/documentation/">TBD</a>
                <a href="https://www.bloss.io/documentation/">TBD</a>
                <a href="https://www.bloss.io/documentation/">TBD</a>
                <a href="https://www.bloss.io/documentation/">TBD</a>
                <a href="https://www.bloss.io/documentation/">TBD</a>
                <a href="https://www.bloss.io/documentation/">TBD</a>
            </div>
       </div>
       <div class="dropdown">
            <button class="dropbtn">
                N-R
                <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content">
                <a href="https://www.bloss.io/documentation/">TBD</a>
                <a href="https://www.bloss.io/documentation/">TBD</a>
                <a href="https://www.bloss.io/documentation/">TBD</a>
                <a href="https://www.bloss.io/documentation/">TBD</a>
                <a href="https://www.bloss.io/documentation/">TBD</a>
                <a href="https://www.bloss.io/documentation/">TBD</a>
            </div>
        </div>
        <div class="dropdown">
            <button class="dropbtn">
               S-Z
                <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content">
                <a href="https://www.bloss.io/documentation/">TBD</a>
                <a href="https://www.bloss.io/documentation/">TBD</a>
                <a href="https://www.bloss.io/documentation/">TBD</a>
                <a href="https://www.bloss.io/documentation/">TBD</a>
                <a href="https://www.bloss.io/documentation/">TBD</a>
                <a href="https://www.bloss.io/documentation/">TBD</a>
            </div>
        </div>
        <div class="generic-box">
            <a href="">lanuage/view changer</a>
        </div>
   </nav> 

 <!-- article header "section-header" -->
  <section class="section-header">
    <div class="generic-box-toc">
        <h1><font color="#2e3440">Opening files</font></h1>
    </div>
    <div class="generic-box-toct">
        <h3><font color="#2e3440">In this step, we make our application show the content of all the files that it is given on the commandline.</font></h3>
    </div>
  </section>

 <!-- TOC toggle script -->
  <script>
    var toc = document.getElementById("toc")
    var toggle = document.getElementById("toggle")

    function toggleTOC()
    {
        toc.style.display === "initial" ? ( toc.style.setProperty("display", "none"),
                                            toggle.innerHTML = "show"
                                            ) 
                                            : ( toc.style.setProperty("display", "initial"),
                                            toggle.innerHTML = "hide"
                                            )
    }    
  </script>

 <hr class="thin">

 <!-- article body "article-main" -->
  <article class="article-main">
      <div class="generic-box-main2">
          <p>
              To this end, we add a private struct to our application window subclass and keep a reference to the 
              <a class="two" href="https://www.bloss.io/documentation/GTK3/GTK_Widgets_Objects/Layout_Containers/GtkStack"><span class="type">GtkStack</span></a> 
              there. The 
              <a class="two" href="https://www.bloss.io/documentation/GTK3/GTK_Widgets_Objects/Abstract_Base/GtkWidget#gtk_widget_class_bind_template_child_private"><code class="function">gtk_widget_class_bind_template_child_private()</code></a> 
              function arranges things so that after instantiating the template, the <em class="parameter"><code>stack</code></em> 
              member of the private struct will point to the widget of the same name from the template.
          </p>
      </div>
      <div class="generic-box-code">
          <pre class="programlisting">
...

struct _ExampleAppWindowPrivate
{
  GtkWidget *stack;
};

G_DEFINE_TYPE_WITH_PRIVATE(ExampleAppWindow, example_app_window, GTK_TYPE_APPLICATION_WINDOW);

...

static void
example_app_window_class_init (ExampleAppWindowClass *class)
{
  gtk_widget_class_set_template_from_resource (GTK_WIDGET_CLASS (class),
                                               "/org/gtk/exampleapp/window.ui");
  gtk_widget_class_bind_template_child_private (GTK_WIDGET_CLASS (class), ExampleAppWindow, stack);
}

...
        </pre>
      </div> 
      <div class="generic-box-main2">
          <p>
              (<a class="two" href="https://gitlab.gnome.org/GNOME/gtk/blob/gtk-3-22/examples/application3/exampleappwin.c">full source</a>)<br>
              <br>
              Now we revisit the <code class="function">example_app_window_open()</code> 
              function that is called for each commandline argument, 
              and construct a GtkTextView that we then add as a page to the stack:
          </p>
      </div>
      <div class="generic-box-code">
          <pre class="programlisting">
...

void
example_app_window_open (ExampleAppWindow *win,
                         GFile            *file)
{
  ExampleAppWindowPrivate *priv;
  gchar *basename;
  GtkWidget *scrolled, *view;
  gchar *contents;
  gsize length;

  priv = example_app_window_get_instance_private (win);
  basename = g_file_get_basename (file);

  scrolled = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_show (scrolled);
  gtk_widget_set_hexpand (scrolled, TRUE);
  gtk_widget_set_vexpand (scrolled, TRUE);
  view = gtk_text_view_new ();
  gtk_text_view_set_editable (GTK_TEXT_VIEW (view), FALSE);
  gtk_text_view_set_cursor_visible (GTK_TEXT_VIEW (view), FALSE);
  gtk_widget_show (view);
  gtk_container_add (GTK_CONTAINER (scrolled), view);
  gtk_stack_add_titled (GTK_STACK (priv-&gt;stack), scrolled, basename, basename);

  if (g_file_load_contents (file, NULL, &amp;contents, &amp;length, NULL, NULL))
    {
      GtkTextBuffer *buffer;

      buffer = gtk_text_view_get_buffer (GTK_TEXT_VIEW (view));
      gtk_text_buffer_set_text (buffer, contents, length);
      g_free (contents);
    }

  g_free (basename);
}

...
        </pre>
      </div> 
      <div class="generic-box-space">
          <p>
             (<a class="two" href="https://gitlab.gnome.org/GNOME/gtk/blob/gtk-3-22/examples/application3/exampleappwin.c">full source</a>)<br>
             <br>
             Note that we did not have to touch the stack switcher at all. 
             It gets all its information from the stack that it belongs to. 
             Here, we are passing the label to show for each file as the last argument to the 
             <a class="two" href="https://www.bloss.io/documentation/GTK3/GTK_Widgets_Objects/Layout_Containers/GtkStack#gtk_stack_add_titled"><code class="function">gtk_stack_add_titled()</code></a> 
             function.<br>
             <br>
             Our application is beginning to take shape:<br>
             <br>
             <img src="/foo/gtk3/Overview/getting%20started/building%20apps/getting-started-app3.png"></img>
          </p>
      </div>
  </article>

 <!-- optional secondary article section "article-optional" -->
  <article class="article-optional">

  </article>

 <!-- related to article "article-related" -->
  <article class="article-related">

  </article>

 <!-- article footer "footer" -->
  <section class="fixed-footer">
      <div class="generic-box-footer">
          <p id="fti-5" class="footer-item" ></p>
      </div>
      <div class="generic-box">
          <a class="three" id="fti-1" class="footer-item" href="https://www.bloss.io/contact/">
            <font color="#000000"><i class="fa fa-envelope"></i></font>
          </a>
      </div>
      <div class="generic-box">
          <a class="three" id="fti-2" class="footer-item" href="https://www.bloss.io/bloss_os/">
            <font color="#000000"><i class="fa fa-id-card"></i></font>
          </a>
      </div>
      <div class="generic-box">
          <a class="three" id="fti-3" class="footer-item" href="https://www.bloss.io/legal/">
            <font color="#000000"><i class="fa fa-balance-scale"></i></font>
          </a>
      </div>
      <div class="generic-box">
          <a class="three" id="fti-4" class="footer-item" href="https://www.bloss.io/privacy_policy/">
            <font color="#000000"><i class="fa fa-shield"></i></font>
          </a>
      </div>
  </section>

 <!-- sidebar "aside" -->
  <aside>

  </aside>
</body>

</html>