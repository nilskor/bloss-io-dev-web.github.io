
<div class="gridContainer slicedAs_3c151 doco">

    <div></div>
    <div>
<!-- article header "section-header" -->
  <section class="section-header">
    <div class="generic-box-toc">
        <h1><font color="#2e3440">Populating the window</font></h1>
    </div>
    <div class="generic-box-toct">
        <h3><font color="#2e3440">In this step, we use a <a class="two" href="/content/GTK3/GTK_Widgets_Objects/Interface_builder/GtkBuilder.html"><span class="type">GtkBuilder</span></a> 
                template to associate a <span class="type">GtkBuilder</span> ui file with our application window class.</font></h3>
    </div>
  </section>

 <!-- TOC toggle script -->
  <script>
    var toc = document.getElementById("toc")
    var toggle = document.getElementById("toggle")

    function toggleTOC()
    {
        toc.style.display === "initial" ? ( toc.style.setProperty("display", "none"),
                                            toggle.innerHTML = "show"
                                            ) 
                                            : ( toc.style.setProperty("display", "initial"),
                                            toggle.innerHTML = "hide"
                                            )
    }    
  </script>

 <hr class="thin">

 <!-- article body "article-main" -->
  <article class="article-main">
      <div class="generic-box-main2">
          <p>
              Our simple ui file puts a <a class="two" href="/content/GTK3/GTK_Widgets_Objects/Layout_Containers/GtkHeaderBar.html"><span class="type">GtkHeaderBar</span></a> 
              on top of a <a class="two" href="/content/GTK3/GTK_Widgets_Objects/Layout_Containers/GtkStack.html"><span class="type">GtkStack</span></a> 
              widget. The header bar contains a <a class="two" href="/content/GTK3/GTK_Widgets_Objects/Layout_Containers/GtkStackSwitcher.html"><span class="type">GtkStackSwitcher</span></a>
              , which is a standalone widget to show a row of 'tabs' for the pages of a <span class="type">GtkStack</span>.
          </p>
      </div>
      <div class="generic-box-code">
          <pre class="programlisting"><span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="o">=</span><span class="s">&quot;1.0&quot;</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="o">?&gt;</span>
<span class="o">&lt;</span><span class="n">interface</span><span class="o">&gt;</span>
  <span class="o">&lt;!--</span> <span class="n">interface</span><span class="o">-</span><span class="n">requires</span> <span class="n">gtk</span><span class="o">+</span> <span class="mf">3.8</span> <span class="o">--&gt;</span>
  <span class="o">&lt;</span><span class="n">template</span> <span class="n">class</span><span class="o">=</span><span class="s">&quot;ExampleAppWindow&quot;</span> <span class="n">parent</span><span class="o">=</span><span class="s">&quot;GtkApplicationWindow&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">property</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;title&quot;</span> <span class="n">translatable</span><span class="o">=</span><span class="s">&quot;yes&quot;</span><span class="o">&gt;</span><span class="n">Example</span> <span class="n">Application</span><span class="o">&lt;/</span><span class="n">property</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">property</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;default-width&quot;</span><span class="o">&gt;</span><span class="mi">600</span><span class="o">&lt;/</span><span class="n">property</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">property</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;default-height&quot;</span><span class="o">&gt;</span><span class="mi">400</span><span class="o">&lt;/</span><span class="n">property</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">child</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">object</span> <span class="n">class</span><span class="o">=</span><span class="s">&quot;GtkBox&quot;</span> <span class="n">id</span><span class="o">=</span><span class="s">&quot;content_box&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">property</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;visible&quot;</span><span class="o">&gt;</span><span class="n">True</span><span class="o">&lt;/</span><span class="n">property</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">property</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;orientation&quot;</span><span class="o">&gt;</span><span class="n">vertical</span><span class="o">&lt;/</span><span class="n">property</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">child</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="n">object</span> <span class="n">class</span><span class="o">=</span><span class="s">&quot;GtkHeaderBar&quot;</span> <span class="n">id</span><span class="o">=</span><span class="s">&quot;header&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">property</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;visible&quot;</span><span class="o">&gt;</span><span class="n">True</span><span class="o">&lt;/</span><span class="n">property</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">child</span> <span class="n">type</span><span class="o">=</span><span class="s">&quot;title&quot;</span><span class="o">&gt;</span>
              <span class="o">&lt;</span><span class="n">object</span> <span class="n">class</span><span class="o">=</span><span class="s">&quot;GtkStackSwitcher&quot;</span> <span class="n">id</span><span class="o">=</span><span class="s">&quot;tabs&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">property</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;visible&quot;</span><span class="o">&gt;</span><span class="n">True</span><span class="o">&lt;/</span><span class="n">property</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">property</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;stack&quot;</span><span class="o">&gt;</span><span class="n">stack</span><span class="o">&lt;/</span><span class="n">property</span><span class="o">&gt;</span>
              <span class="o">&lt;/</span><span class="n">object</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">child</span><span class="o">&gt;</span>
          <span class="o">&lt;/</span><span class="n">object</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">child</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">child</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="n">object</span> <span class="n">class</span><span class="o">=</span><span class="s">&quot;GtkStack&quot;</span> <span class="n">id</span><span class="o">=</span><span class="s">&quot;stack&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">property</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;visible&quot;</span><span class="o">&gt;</span><span class="n">True</span><span class="o">&lt;/</span><span class="n">property</span><span class="o">&gt;</span>
          <span class="o">&lt;/</span><span class="n">object</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">child</span><span class="o">&gt;</span>
      <span class="o">&lt;/</span><span class="n">object</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">child</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">template</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">interface</span><span class="o">&gt;</span>
          </pre>
      </div>
      <div class="generic-box-main2">
          <p>
              To make use of this file in our application, we revisit our <a class="two" href="/content/GTK3/GTK_Widgets_Objects/App_support/GtkAppWindow.html"><span class="type">GtkApplicationWindow</span></a> 
              subclass, and call <a class="two" href="/content/GTK3/GTK_Widgets_Objects/Abstract_Base/GtkWidget.html#gtk_widget_class_set_template_from_resource"><code class="function">gtk_widget_class_set_template_from_resource()</code></a> 
              from the class init function to set the ui file as template for this class. We also add a call to 
              <a class="two" href="/content/GTK3/GTK_Widgets_Objects/Abstract_Base/GtkWidget.html#gtk_widget_init_template"><code class="function">gtk_widget_init_template()</code></a> 
              in the instance init function to instantiate the template for each instance of our class.
          </p>
      </div>
      <div class="generic-box-code">
          <pre class="programlisting">
 ...

static void
example_app_window_init (ExampleAppWindow *win)
{
  gtk_widget_init_template (GTK_WIDGET (win));
}

static void
example_app_window_class_init (ExampleAppWindowClass *class)
{
  gtk_widget_class_set_template_from_resource (GTK_WIDGET_CLASS (class),
                                               "/org/gtk/exampleapp/window.ui");
}

 ...
        </pre>
      </div>
      <div class="generic-box-main3">
          <p>
              (<a class="two" href="https://gitlab.gnome.org/GNOME/gtk/blob/gtk-3-22/examples/application2/exampleappwin.c">full source</a>)<br>
              <br>
              You may have noticed that we used the <code class="literal">_from_resource()</code> 
              variant of the function that sets a template. Now we need to use 
              <a class="two" href="https://developer.gnome.org/gio/stable/GResource.html" target="_top">GLib's resource functionality</a> 
              to include the ui file in the binary. This is commonly done by listing all resources in a .gresource.xml file, such as this:
          </p>
      </div>
      <div class="generic-box-code">
          <pre class="programlisting"><span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="o">=</span><span class="s">&quot;1.0&quot;</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="o">?&gt;</span>
<span class="o">&lt;</span><span class="n">gresources</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">gresource</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;/org/gtk/exampleapp&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">file</span> <span class="n">preprocess</span><span class="o">=</span><span class="s">&quot;xml-stripblanks&quot;</span><span class="o">&gt;</span><span class="n">window</span><span class="p">.</span><span class="n">ui</span><span class="o">&lt;/</span><span class="n">file</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">gresource</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">gresources</span><span class="o">&gt;</span></pre>
      </div>
      <div class="generic-box-main3">
          <p>
              This file has to be converted into a C source file that will be compiled and linked into the application together with 
              the other source files. To do so, we use the glib-compile-resources utility:
          </p>
      </div>
      <div class="generic-box-code"><p><br>
        <code class="line">
            glib-compile-resources exampleapp.gresource.xml --target=resources.c --generate-source
        </code><br>
      </p></div>
      <div class="generic-box-space">
          <p>
              Our application now looks like this:<br>
              <br>
              <img src="/foo/gtk3/Overview/getting%20started/building%20apps/getting-started-app2.png"></img><br>
              <br>
            </p>
      </div>
  </article>

 
    </div>
    <div></div>

</div>
